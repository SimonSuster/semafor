p262594@juno:~/Apps/semafor_dev/semafor/scripts/scoring$ ./runTestWithGoldTargets.sh
+ set -e
++ dirname ./runTestWithGoldTargets.sh
+ source ./../../training/config.sh
+++ dirname ./../../training/config.sh
++ source ./../../training/../bin/config.sh
+++ export SEMAFOR_HOME=/home/p262594/Apps/semafor_dev/semafor
+++ MALT_MODEL_DIR=/home/p262594/Apps/semafor/training/data/retrain_simple
+++ echo 'Environment variables:'
Environment variables:
+++ echo SEMAFOR_HOME=/home/p262594/Apps/semafor_dev/semafor
SEMAFOR_HOME=/home/p262594/Apps/semafor_dev/semafor
+++ echo CLASSPATH=.:/home/p262594/Apps/semafor_dev/Semafor_dev/out/artifacts/Semafor_jar/Semafor.jar
CLASSPATH=.:/home/p262594/Apps/semafor_dev/Semafor_dev/out/artifacts/Semafor_jar/Semafor.jar
+++ echo JAVA_HOME_BIN=/usr/bin
JAVA_HOME_BIN=/usr/bin
+++ echo MALT_MODEL_DIR=/home/p262594/Apps/semafor/training/data/retrain_simple
MALT_MODEL_DIR=/home/p262594/Apps/semafor/training/data/retrain_simple
++ export model_name=hmm_en_rel_miter2_N64_nsent1613710_alpha1_batchsize1000_NMOD-PMOD-SUB_noncumulative
++ model_name=hmm_en_rel_miter2_N64_nsent1613710_alpha1_batchsize1000_NMOD-PMOD-SUB_noncumulative
++ export id_features=senna
++ id_features=senna
++ export num_threads=4
++ num_threads=4
++ export gc_threads=2
++ gc_threads=2
++ export classpath=.:/home/p262594/Apps/semafor_dev/Semafor_dev/out/artifacts/Semafor_jar/Semafor.jar
++ classpath=.:/home/p262594/Apps/semafor_dev/Semafor_dev/out/artifacts/Semafor_jar/Semafor.jar
++ export datadir=/home/p262594/Apps/semafor_dev/semafor/training/data
++ datadir=/home/p262594/Apps/semafor_dev/semafor/training/data
++ export experiments_dir=/home/p262594/Apps/semafor_dev/semafor/training/data/hmm_en_rel_miter2_N64_nsent1613710_alpha1_batchsize1000_NMOD-PMOD-SUB_noncumulative
++ experiments_dir=/home/p262594/Apps/semafor_dev/semafor/training/data/hmm_en_rel_miter2_N64_nsent1613710_alpha1_batchsize1000_NMOD-PMOD-SUB_noncumulative
++ export results_dir=/home/p262594/Apps/semafor_dev/semafor/training/data/hmm_en_rel_miter2_N64_nsent1613710_alpha1_batchsize1000_NMOD-PMOD-SUB_noncumulative/results
++ results_dir=/home/p262594/Apps/semafor_dev/semafor/training/data/hmm_en_rel_miter2_N64_nsent1613710_alpha1_batchsize1000_NMOD-PMOD-SUB_noncumulative/results
++ export model_dir=/home/p262594/Apps/semafor_dev/semafor/training/data/hmm_en_rel_miter2_N64_nsent1613710_alpha1_batchsize1000_NMOD-PMOD-SUB_noncumulative
++ model_dir=/home/p262594/Apps/semafor_dev/semafor/training/data/hmm_en_rel_miter2_N64_nsent1613710_alpha1_batchsize1000_NMOD-PMOD-SUB_noncumulative
++ export old_model_dir=/home/p262594/Apps/semafor/training/data/retrain_simple
++ old_model_dir=/home/p262594/Apps/semafor/training/data/retrain_simple
++ export fn_id_req_data_file=/home/p262594/Apps/semafor_dev/semafor/training/data/hmm_en_rel_miter2_N64_nsent1613710_alpha1_batchsize1000_NMOD-PMOD-SUB_noncumulative/reqData.jobj
++ fn_id_req_data_file=/home/p262594/Apps/semafor_dev/semafor/training/data/hmm_en_rel_miter2_N64_nsent1613710_alpha1_batchsize1000_NMOD-PMOD-SUB_noncumulative/reqData.jobj
++ export training_dir=/home/p262594/Apps/semafor_dev/semafor/training/data/naacl2012_splits
++ training_dir=/home/p262594/Apps/semafor_dev/semafor/training/data/naacl2012_splits
++ export fe_file=/home/p262594/Apps/semafor_dev/semafor/training/data/naacl2012_splits/cv.train.sentences.frame.elements
++ fe_file=/home/p262594/Apps/semafor_dev/semafor/training/data/naacl2012_splits/cv.train.sentences.frame.elements
++ export parsed_file=/home/p262594/Apps/semafor_dev/semafor/training/data/naacl2012_splits/cv.train.sentences.all.lemma.tags
++ parsed_file=/home/p262594/Apps/semafor_dev/semafor/training/data/naacl2012_splits/cv.train.sentences.all.lemma.tags
+++ wc -l /home/p262594/Apps/semafor_dev/semafor/training/data/naacl2012_splits/cv.train.sentences.frame.elements
++ export 'fe_file_length=15019 /home/p262594/Apps/semafor_dev/semafor/training/data/naacl2012_splits/cv.train.sentences.frame.elements'
++ fe_file_length='15019 /home/p262594/Apps/semafor_dev/semafor/training/data/naacl2012_splits/cv.train.sentences.frame.elements'
+++ expr 15019
++ export fe_file_length=15019
++ fe_file_length=15019
++ export alphabet_file=/home/p262594/Apps/semafor_dev/semafor/training/data/hmm_en_rel_miter2_N64_nsent1613710_alpha1_batchsize1000_NMOD-PMOD-SUB_noncumulative/alphabet.dat
++ alphabet_file=/home/p262594/Apps/semafor_dev/semafor/training/data/hmm_en_rel_miter2_N64_nsent1613710_alpha1_batchsize1000_NMOD-PMOD-SUB_noncumulative/alphabet.dat
++ export SCAN_DIR=/home/p262594/Apps/semafor_dev/semafor/training/data/hmm_en_rel_miter2_N64_nsent1613710_alpha1_batchsize1000_NMOD-PMOD-SUB_noncumulative/scan
++ SCAN_DIR=/home/p262594/Apps/semafor_dev/semafor/training/data/hmm_en_rel_miter2_N64_nsent1613710_alpha1_batchsize1000_NMOD-PMOD-SUB_noncumulative/scan
++ echo classpath=.:/home/p262594/Apps/semafor_dev/Semafor_dev/out/artifacts/Semafor_jar/Semafor.jar
classpath=.:/home/p262594/Apps/semafor_dev/Semafor_dev/out/artifacts/Semafor_jar/Semafor.jar
++ echo num_threads=4
num_threads=4
++ echo gc_threads=2
gc_threads=2
++ echo datadir=/home/p262594/Apps/semafor_dev/semafor/training/data
datadir=/home/p262594/Apps/semafor_dev/semafor/training/data
++ echo id_features=senna
id_features=senna
++ echo fn_id_req_data_file=/home/p262594/Apps/semafor_dev/semafor/training/data/hmm_en_rel_miter2_N64_nsent1613710_alpha1_batchsize1000_NMOD-PMOD-SUB_noncumulative/reqData.jobj
fn_id_req_data_file=/home/p262594/Apps/semafor_dev/semafor/training/data/hmm_en_rel_miter2_N64_nsent1613710_alpha1_batchsize1000_NMOD-PMOD-SUB_noncumulative/reqData.jobj
++ echo training_dir=/home/p262594/Apps/semafor_dev/semafor/training/data/naacl2012_splits
training_dir=/home/p262594/Apps/semafor_dev/semafor/training/data/naacl2012_splits
++ echo fe_file=/home/p262594/Apps/semafor_dev/semafor/training/data/naacl2012_splits/cv.train.sentences.frame.elements
fe_file=/home/p262594/Apps/semafor_dev/semafor/training/data/naacl2012_splits/cv.train.sentences.frame.elements
++ echo parsed_file=/home/p262594/Apps/semafor_dev/semafor/training/data/naacl2012_splits/cv.train.sentences.all.lemma.tags
parsed_file=/home/p262594/Apps/semafor_dev/semafor/training/data/naacl2012_splits/cv.train.sentences.all.lemma.tags
++ echo fe_file_length=15019
fe_file_length=15019
++ echo alphabet_file=/home/p262594/Apps/semafor_dev/semafor/training/data/hmm_en_rel_miter2_N64_nsent1613710_alpha1_batchsize1000_NMOD-PMOD-SUB_noncumulative/alphabet.dat
alphabet_file=/home/p262594/Apps/semafor_dev/semafor/training/data/hmm_en_rel_miter2_N64_nsent1613710_alpha1_batchsize1000_NMOD-PMOD-SUB_noncumulative/alphabet.dat
++ echo SCAN_DIR=/home/p262594/Apps/semafor_dev/semafor/training/data/hmm_en_rel_miter2_N64_nsent1613710_alpha1_batchsize1000_NMOD-PMOD-SUB_noncumulative/scan
SCAN_DIR=/home/p262594/Apps/semafor_dev/semafor/training/data/hmm_en_rel_miter2_N64_nsent1613710_alpha1_batchsize1000_NMOD-PMOD-SUB_noncumulative/scan
+ cv=test
+ echo 'results directory: /home/p262594/Apps/semafor_dev/semafor/training/data/hmm_en_rel_miter2_N64_nsent1613710_alpha1_batchsize1000_NMOD-PMOD-SUB_noncumulative/results'
results directory: /home/p262594/Apps/semafor_dev/semafor/training/data/hmm_en_rel_miter2_N64_nsent1613710_alpha1_batchsize1000_NMOD-PMOD-SUB_noncumulative/results
+ mkdir -p /home/p262594/Apps/semafor_dev/semafor/training/data/hmm_en_rel_miter2_N64_nsent1613710_alpha1_batchsize1000_NMOD-PMOD-SUB_noncumulative/results
+ echo classpath=.:/home/p262594/Apps/semafor_dev/Semafor_dev/out/artifacts/Semafor_jar/Semafor.jar
classpath=.:/home/p262594/Apps/semafor_dev/Semafor_dev/out/artifacts/Semafor_jar/Semafor.jar
+ scala -cp .:/home/p262594/Apps/semafor_dev/Semafor_dev/out/artifacts/Semafor_jar/Semafor.jar -J-Xmx3g /home/p262594/Apps/semafor_dev/semafor/scripts/scoring/runWithGoldTargets.scala /home/p262594/Apps/semafor_dev/semafor/training/data/hmm_en_rel_miter2_N64_nsent1613710_alpha1_batchsize1000_NMOD-PMOD-SUB_noncumulative /home/p262594/Apps/semafor_dev/semafor/training/data/naacl2012_splits/cv.test.sentences.frames /home/p262594/Apps/semafor_dev/semafor/training/data/naacl2012_splits/cv.test.sentences.maltparsed.conll /home/p262594/Apps/semafor_dev/semafor/training/data/hmm_en_rel_miter2_N64_nsent1613710_alpha1_batchsize1000_NMOD-PMOD-SUB_noncumulative/results/test.autoframe.predicted.xml
Initializing frame identification model...
Reading serialized required data
Done reading serialized required data
Reading graph from: /home/p262594/Apps/semafor_dev/semafor/training/data/hmm_en_rel_miter2_N64_nsent1613710_alpha1_batchsize1000_NMOD-PMOD-SUB_noncumulative/sparsegraph.gz...
Read graph successfully.
Reading model parameters...
java.lang.NullPointerException
	at edu.cmu.cs.lti.ark.fn.identification.IdFeatureExtractor.fromName(IdFeatureExtractor.java:54)
	at edu.cmu.cs.lti.ark.fn.identification.FrameIdentificationRelease.parseParamFile(FrameIdentificationRelease.java:49)
	at edu.cmu.cs.lti.ark.fn.identification.GraphBasedFrameIdentifier.getInstance(GraphBasedFrameIdentifier.java:57)
	at edu.cmu.cs.lti.ark.fn.Semafor.getSemaforInstance(Semafor.java:128)
	at Main$$anon$1.<init>(runWithGoldTargets.scala:40)
	at Main$.main(runWithGoldTargets.scala:1)
	at Main.main(runWithGoldTargets.scala)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at scala.tools.nsc.util.ScalaClassLoader$$anonfun$run$1.apply(ScalaClassLoader.scala:71)
	at scala.tools.nsc.util.ScalaClassLoader$class.asContext(ScalaClassLoader.scala:31)
	at scala.tools.nsc.util.ScalaClassLoader$URLClassLoader.asContext(ScalaClassLoader.scala:139)
	at scala.tools.nsc.util.ScalaClassLoader$class.run(ScalaClassLoader.scala:71)
	at scala.tools.nsc.util.ScalaClassLoader$URLClassLoader.run(ScalaClassLoader.scala:139)
	at scala.tools.nsc.CommonRunner$class.run(ObjectRunner.scala:28)
	at scala.tools.nsc.ObjectRunner$.run(ObjectRunner.scala:45)
	at scala.tools.nsc.CommonRunner$class.runAndCatch(ObjectRunner.scala:35)
	at scala.tools.nsc.ObjectRunner$.runAndCatch(ObjectRunner.scala:45)
	at scala.tools.nsc.ScriptRunner.scala$tools$nsc$ScriptRunner$$runCompiled(ScriptRunner.scala:171)
	at scala.tools.nsc.ScriptRunner$$anonfun$runScript$1.apply(ScriptRunner.scala:188)
	at scala.tools.nsc.ScriptRunner$$anonfun$runScript$1.apply(ScriptRunner.scala:188)
	at scala.tools.nsc.ScriptRunner$$anonfun$withCompiledScript$1.apply$mcZ$sp(ScriptRunner.scala:157)
	at scala.tools.nsc.ScriptRunner$$anonfun$withCompiledScript$1.apply(ScriptRunner.scala:131)
	at scala.tools.nsc.ScriptRunner$$anonfun$withCompiledScript$1.apply(ScriptRunner.scala:131)
	at scala.tools.nsc.util.package$.trackingThreads(package.scala:51)
	at scala.tools.nsc.util.package$.waitingForThreads(package.scala:35)
	at scala.tools.nsc.ScriptRunner.withCompiledScript(ScriptRunner.scala:130)
	at scala.tools.nsc.ScriptRunner.runScript(ScriptRunner.scala:188)
	at scala.tools.nsc.ScriptRunner.runScriptAndCatch(ScriptRunner.scala:201)
	at scala.tools.nsc.MainGenericRunner.runTarget$1(MainGenericRunner.scala:76)
	at scala.tools.nsc.MainGenericRunner.process(MainGenericRunner.scala:96)
	at scala.tools.nsc.MainGenericRunner$.main(MainGenericRunner.scala:105)
	at scala.tools.nsc.MainGenericRunner.main(MainGenericRunner.scala)
